count = n(),
mean = mean(IA_DWELL_TIME),
sd = sd(IA_DWELL_TIME)
)
final_df %>% group_by(film, subType) %>%
summarise(
count = n(),
mean = mean(IA_DWELL_TIME),
sd = sd(IA_DWELL_TIME)
)
final_df
print(final_df['RECODING_SESSION_LABEL'])
final_df['RECODING_SESSION_LABEL']
final_df %>% name()
final_df %>% names()
final_df <- c()
for (fileName in fileNames) {
fileName_without_ext <- fileName %>% str_split('\\.') %>% .[[1]] %>% .[1]
filmName <- str_replace_all(fileName_without_ext, '[[:upper:]]', '')
subtitle <- str_replace_all(fileName_without_ext, '[[:lower:]]', '')
df <- read_csv(fileName) %>%
select(RECODING_SESSION_LABEL, IA_DWELL_TIME, `IA_DWELL_TIME_%`, IA_FIXATION_COUNT, `IA_FIXATION_%`) %>%
mutate(film=filmName, subType=subtitle)
final_df <- rbind(final_df, df)
}
final_df <- c()
for (fileName in fileNames) {
fileName_without_ext <- fileName %>% str_split('\\.') %>% .[[1]] %>% .[1]
filmName <- str_replace_all(fileName_without_ext, '[[:upper:]]', '')
subtitle <- str_replace_all(fileName_without_ext, '[[:lower:]]', '')
df <- read_csv(fileName) %>%
select(RECORDING_SESSION_LABEL, IA_DWELL_TIME, `IA_DWELL_TIME_%`, IA_FIXATION_COUNT, `IA_FIXATION_%`) %>%
mutate(film=filmName, subType=subtitle)
final_df <- rbind(final_df, df)
}
final_data %>% select(RECORDING_SESSION_LABEL)
final_df %>% select(RECORDING_SESSION_LABEL)
write_csv(final_df, 'final_data.csv')
final_df <- c()
for (fileName in fileNames) {
fileName_without_ext <- fileName %>% str_split('\\.') %>% .[[1]] %>% .[1]
filmName <- str_replace_all(fileName_without_ext, '[[:upper:]]', '')
subtitle <- str_replace_all(fileName_without_ext, '[[:lower:]]', '')
df <- read_csv(fileName) %>%
select(RECORDING_SESSION_LABEL, IA_DWELL_TIME, `IA_DWELL_TIME_%`,
IA_FIXATION_COUNT, `IA_FIXATION_%`, IA_LABEL) %>%
mutate(film=filmName, subType=subtitle)
final_df <- rbind(final_df, df)
}
final_df <- c()
for (fileName in fileNames) {
fileName_without_ext <- fileName %>% str_split('\\.') %>% .[[1]] %>% .[1]
filmName <- str_replace_all(fileName_without_ext, '[[:upper:]]', '')
subtitle <- str_replace_all(fileName_without_ext, '[[:lower:]]', '')
df <- read_csv(fileName) %>%
select(RECORDING_SESSION_LABEL, IA_DWELL_TIME, `IA_DWELL_TIME_%`,
IA_FIXATION_COUNT, `IA_FIXATION_%`) %>%
mutate(film=filmName, subType=subtitle)
final_df <- rbind(final_df, df)
}
final_df
final_df %>% select(RECORDING_SESSION_LABEL)
final_df %>% select(RECORDING_SESSION_LABEL) %>% str_replace_all('[[:lower:]]', '')
tmp <- final_df %>% select(RECORDING_SESSION_LABEL)
help(apply)
help(sapply)
sapply(tmp, function(x) str_replace_all(x, '[[:lower:]]', ''))
sapply(tmp, function(x) str_replace_all(x, '\\d+', ''))
ID
ID
ID <- sapply(tmp, function(x) str_replace_all(x, '\\d+', ''))
ID
ID[1]
index <- c()
for (i in len(ID)) {
if (ID[i] == ID[i+1] & ID[i+1] == ID[i+2] & ID[i+2] == ID[i+3])
append(index, i)
}
index <- c()
for (i in length(ID)) {
if (ID[i] == ID[i+1] & ID[i+1] == ID[i+2] & ID[i+2] == ID[i+3])
append(index, i)
}
index <- c()
for (i in length(ID)) {
if ((ID[i] == ID[i+1]) & (ID[i+1] == ID[i+2]) & (ID[i+2] == ID[i+3]))
append(index, i)
}
1 == 2 & 2==3 & 3==4
index <- c()
for (i in length(ID)-3) {
if (all.equal(ID[i], ID[i+1], ID[i+2], ID[i+3]))
append(index, i)
}
index
ID[26]
all.equal(ID[26], ID[27])
all.equal(ID[26], ID[27], ID[28], ID[29])
all.equal(ID[26], ID[27], ID[28], ID[29], ID[30])
ID[30]
all.equal(3, 4)
identical(1, 2)
index <- c()
for (i in length(ID)-3) {
if (identical(ID[i], ID[i+1], ID[i+2], ID[i+3]))
append(index, i)
}
identical(2, 3, 4)
all(1, 2, 3)
all.equal('xy', 'xyz')
is.True(all.equal('xy', 'xyz'))
isTrue(all.equal('xy', 'xyz'))
True(all.equal('xy', 'xyz'))
help("isTRUE")
isTrue(all.equal('xy', 'xyz'))
all.equal('xy', 'xyz')
all.equal('xy', 'xyz', 'xy')
all(ID[1] == ID[2])
ID[1]
ID[2]
all(ID[26]==ID[27], ID[27]==ID[28], ID[28]==ID[29])
ID[26:29]
index <- c()
for (i in length(ID)-3) {
if (all(ID[i]==ID[i+1], ID[i+1]==ID[i+2], ID[i+2]==ID[i+3]))
append(index, i)
}
index
ID[26:29]
ID[25:28]
all(ID[25]==ID[26], ID[26]==ID[27], ID[27]==ID[28])
appen(index, 3)
append(index, 3)
index
index <- c()
for (i in length(ID)-3) {
if (all(ID[i]==ID[i+1], ID[i+1]==ID[i+2], ID[i+2]==ID[i+3]))
index <- append(index, i)
}
index
index <- append(index, 3)
index
index <- append(index, 4)
index
index <- c()
for (i in length(ID)-3) {
if (all(ID[i]==ID[i+1], ID[i+1]==ID[i+2], ID[i+2]==ID[i+3]))
index <- append(index, i)
}
index
index <- c()
for (i in length(ID)-3) {
if (all(ID[i]==ID[i+1], ID[i+1]==ID[i+2], ID[i+2]==ID[i+3]))
index <- append(index, i)
}
index
index <- c()
for (i in length(ID)) {
if (all(ID[i]==ID[i+1], ID[i+1]==ID[i+2], ID[i+2]==ID[i+3]))
index <- append(index, i)
}
index <- c()
for (i in length(ID)-3) {
if (all(ID[i]==ID[i+1], ID[i+1]==ID[i+2], ID[i+2]==ID[i+3])) {
print(i)
index <- append(index, i)
}
}
print(3)
ID[25:29]
ID[25, 28]
ID[25, 28]
ID[25:28]
all(ID[25]]==ID[26], ID[26]==ID[27], ID[27]==ID[28])
all(ID[25]==ID[26], ID[26]==ID[27], ID[27]==ID[28])
length(ID)
i=25
if (all(ID[i]==ID[i+1], ID[i+1]==ID[i+2], ID[i+2]==ID[i+3])) {
print(i)
index <- append(index, i)
}
index
index <- c()
for (i in 1:(length(ID)-3)) {
if (all(ID[i]==ID[i+1], ID[i+1]==ID[i+2], ID[i+2]==ID[i+3])) {
print(i)
index <- append(index, i)
}
}
index
rownames(final_df)
rownames(final_data) %notin% index
rownames(final_data) %in% index
rownames(final_df) %in% index
!(rownames(final_df) %in% index)
typeof(final_df)
final_df[1, 2]
final_df[!(rownames(final_df) %in% index), ]
rows(final_df)
nrow(final_df)
for (i in index) {
index <- append(index, i+1)
}
index
final_df <- c()
for (fileName in fileNames) {
fileName_without_ext <- fileName %>% str_split('\\.') %>% .[[1]] %>% .[1]
filmName <- str_replace_all(fileName_without_ext, '[[:upper:]]', '')
subtitle <- str_replace_all(fileName_without_ext, '[[:lower:]]', '')
df <- read_csv(fileName) %>%
select(RECORDING_SESSION_LABEL, IA_DWELL_TIME, `IA_DWELL_TIME_%`,
IA_FIXATION_COUNT, `IA_FIXATION_%`) %>%
mutate(film=filmName, subType=subtitle)
final_df <- rbind(final_df, df)
}
ID <- sapply(tmp, function(x) str_replace_all(x, '\\d+', ''))
index <- c()
for (i in 1:(length(ID)-3)) {
if (all(ID[i]==ID[i+1], ID[i+1]==ID[i+2], ID[i+2]==ID[i+3])) {
index <- append(index, i)
}
}
for (i in index) {
index <- append(index, i+1)
}
final_df <- final_df[!(rownames(final_df) %in% index), ]
final_df
nrow(final_df)
names(final_df)
final_df <- final_df[!(rownames(final_df) %in% index), 2:6]
final_df
final_df %>% names()
tmp <- names(final_df)
tmp[0]
tnp[1]
tmp[1]
IA_DWELL_TIME.aov2 <- aov(tmp[1] ~  film + subType, data=final_df)
final_data
final_df
final_df %>% names()
final_df <- c()
for (fileName in fileNames) {
fileName_without_ext <- fileName %>% str_split('\\.') %>% .[[1]] %>% .[1]
filmName <- str_replace_all(fileName_without_ext, '[[:upper:]]', '')
subtitle <- str_replace_all(fileName_without_ext, '[[:lower:]]', '')
df <- read_csv(fileName) %>%
select(RECORDING_SESSION_LABEL, IA_DWELL_TIME, `IA_DWELL_TIME_%`,
IA_FIXATION_COUNT, `IA_FIXATION_%`) %>%
mutate(film=filmName, subType=subtitle)
final_df <- rbind(final_df, df)
}
ID <- sapply(tmp, function(x) str_replace_all(x, '\\d+', ''))
index <- c()
for (i in 1:(length(ID)-3)) {
if (all(ID[i]==ID[i+1], ID[i+1]==ID[i+2], ID[i+2]==ID[i+3])) {
index <- append(index, i)
}
}
for (i in index) {
index <- append(index, i+1)
}
final_df <- final_df[!(rownames(final_df) %in% index), 2:7]
final_df %>% names()
IA_DWELL_TIME.aov2 <- aov(tmp[1] ~  film + subType, data=final_df)
IA_DWELL_TIME.aov2 <- aov(eval(tmp[1]) ~  film + subType, data=final_df)
IA_DWELL_TIME.aov2 <- aov(IA_DWELL_TIME ~  film + subType, data=final_df)
tmp[1]
eval(tmp[1])
eval(final_df[1])
IA_DWELL_TIME.aov2 <- aov(final_df[1] ~  film + subType, data=final_df)
IA_DWELL_TIME.aov2 <- aov(eval(final_df[1]) ~  film + subType, data=final_df)
eval(final_df[1])
IA_DWELL_TIME.aov2 <- aov(substitute(i ~  film + subType, list(i = as.name('IA_DWELL_TIME'))), data=final_df)
substitute(i ~  film + subType, list(i = as.name('IA_DWELL_TIME'))
substitute(i ~  film + subType, list(i = as.name('IA_DWELL_TIME')))
IA_DWELL_TIME.aov2 <- aov(substitute(i ~  film + subType, list(i = as.name('IA_DWELL_TIME'))), data=final_df)
IA_DWELL_TIME.aov2 <- aov(IA_DWELL_TIME ~ film + subType, data=final_df)
tmp = substitute(i ~  film + subType, list(i = as.name('IA_DWELL_TIME')))
tmp
IA_DWELL_TIME.aov2 <- aov(substitute(tmp, data=final_df)
IA_DWELL_TIME.aov2 <- aov(tmp, data=final_df)
IA_DWELL_TIME.aov2 <- aov(eval(tmp), data=final_df)
final_df %>% names()
final_df %>% names() %>% .[1:4]
models <- lapply(names(final_df)[1:4], function(x) {
tmp = substitute(i ~  film + subType, list(i = as.name(x)))
aov(eval(substitute(i ~  film + subType, list(i = as.name(x)))), data = final_df)
})
models[1]
sapply(models, summary())
sapply(models, summary)
tmp = sapply(models, summary)
names(tmp)
tmp
models <- lapply(names(final_df)[1:4], function(x) {
# tmp = substitute(i ~  film + subType, list(i = as.name(x)))
x = aov(eval(substitute(i ~  film + subType, list(i = as.name(x)))), data = final_df)
})
models
models <- lapply(names(final_df)[1:4], function(x) {
# tmp = substitute(i ~  film + subType, list(i = as.name(x)))
out <- aov(eval(substitute(i ~  film + subType, list(i = as.name(x)))), data = final_df)
names(out) <- x
out
})
models
models <- lapply(names(final_df)[1:4], function(x) {
# tmp = substitute(i ~  film + subType, list(i = as.name(x)))
aov(eval(substitute(i ~  film + subType, list(i = as.name(x)))), data = final_df)
})
data.frame(models)
data.frame(tmp)
model_summary <- sapply(models, summary)
model_summary()
model_summary
model_summary %>% lapply(function(x) names(x) = 'test')
type(model_summary)
typeof(model_summary)
typeof(model_summary[1])
typeof(model_summary[[1]])
names(model_summary)
model_summary
names(model_summary) <- rep('test', 4)
model_summary
model_summary <- sapply(models, summary)
names(model_summary) <- names(final_df)[1:4]
model_summary
final_df %>% group_by(film, subType) %>%
summarise(
count = n(),
mean = mean(IA_DWELL_TIME),
sd = sd(IA_DWELL_TIME)
)
for (x in names(final_df)[1:4]) {
final_df %>% group_by(film, subType) %>%
summarise(
count = n(),
mean = mean(eval(x)),
sd = sd(eval(x))
)
}
for (i in 1:4) {
final_df[, i] %>% group_by(film, subType) %>%
summarise(
count = n(),
mean = mean(),
sd = sd()
)
}
for (i in 1:4) {
final_df %>% group_by(film, subType) %>%
summarise(
count = n(),
mean = mean(final_df[, i]),
sd = sd(final_df[, i])
)
}
x = 'IA_DWELL_TIME'
final_df %>% group_by(film, subType) %>%
summarise(
count = n(),
mean = mean(x),
sd = sd(x)
)
final_df %>% group_by(film, subType) %>%
summarise(
count = n(),
mean = mean(eval(x)),
sd = sd(eval(x))
)
eval(x)
x = final_df[, 1]
x
final_df %>% group_by(film, subType) %>%
summarise(
count = n(),
mean = mean(x),
sd = sd(x)
)
x = 'IA_DWELL_TIME'
final_df %>% group_by(film, subType) %>%
summarise(
count = n(),
mean = mean(eval(x)),
sd = sd(eval(x))
)
final_df %>% group_by(film, subType) %>%
summarise(
# count = n(),
mean = mean(eval(x)),
sd = sd(eval(x))
)
x = IA_DWELL_TIME
x = 'IA_DWELL_TIME''
x = 'IA_DWELL_TIME'
x = 'IA_DWELL_TIME'
final_df %>% group_by(film, subType) %>%
summarise(
# count = n(),
mean = mean(eval(x)),
sd = sd(eval(x))
)
final_df %>% group_by(film, subType) %>%
summarise(
# count = n(),
mean = mean(names(final_df)[1]),
sd = sd(eval(x))
)
final_df %>% group_by(film, subType) %>%
summarise(
# count = n(),
mean = mean(IA_DWELL_TIME),
sd = sd(IA_DWELL_TIME)
)
final_df %>% group_by(film, subType) %>%
summarise(
# count = n(),
mean = mean(),
sd = sd()
)
final_df %>% group_by(film, subType) %>%
summarise_all(
# count = n(),
mean = mean(),
sd = sd()
)
final_df %>% group_by(film, subType) %>%
summarise_all(
funs(mean)
)
final_df %>% names()
final_df[2:6] %>% group_by(film, subType) %>%
summarise_all(
funs(mean)
)
final_df[2:6] %>% group_by(film, subType) %>%
summarise_all(
funs(mean, sd)
)
summary_statistics <- final_df[2:6] %>% group_by(film, subType) %>%
summarise_all(
funs(mean, sd)
)
summary_statistics
summary_statistics %>% names()
summary_statistics <- final_df[2:6] %>% group_by(film, subType) %>%
summarise_all(
funs('mean'=mean, sd)
)
names(summary_statistics)
summary_statistics <- final_df[2:6] %>% group_by(film, subType) %>%
summarise_all(
funs('mean'=mean, 'std'=sd)
)
names(summary_statistics)
write_csv(summary_statistics, 'descriptive_stats.csv')
model_summary
write_csv(model_summary, 'model_summary.csv')
sink('model_summary.txt')
model_summary <- sapply(models, summary)
names(model_summary) <- names(final_df)[1:4]
sink()
sink('model_summary.txt')
model_summary <- sapply(models, summary)
# names(model_summary) <- names(final_df)[1:4]
sink()
tmp = substitute(i ~  film + subType, list(i = as.name('IA_DWELL_TIME')))
require(broom)
write.csv(tidy(model_summary), 'model_summary.csv')
require(tidyr)
install.packages(broom)
install.packages('broom')
# require(tidyr)
model_summary <- sapply(models, summary)
names(model_summary) <- names(final_df)[1:4]
write.csv(tidy(model_summary), 'model_summary.csv')
write.csv(glance(model_summary), 'model_summary.csv')
install.packages('tidyr')
write.csv(glance(model_summary), 'model_summary.csv')
write.csv(tidy(model_summary), 'model_summary.csv')
require(broom)
write.csv(tidy(model_summary), 'model_summary.csv')
model_summary <- sapply(models, summary)
names(model_summary) <- names(final_df)[1:4]
write.csv(tidy(model_summary), 'model_summary.csv')
write.csv(glance(model_summary), 'model_summary.csv')
model_summary
model_summary %>% data.frame()
install.packages('gdaTools')
list2df(model_summary)
require(gdapTools)
install.packages('GDAtools')
requie(GDAtools)
library(GDAtools)
help("list2df")
??list2df
install.packages("qdapTools")
library(qdapTools)
list2df(model_summary)
sink('model_summary.txt')
model_summary <- sapply(models, summary)
names(model_summary) <- names(final_df)[1:4]
print(model_summary)
sink()
final_df[2:6]
final_df[,2:6]
final_df[,1:6]
summary_statistics <- final_df[, 1:6] %>% group_by(film, subType) %>%
summarise_all(
funs('mean'=mean, 'std'=sd)
)
write_csv(summary_statistics, 'descriptive_stats.csv')
